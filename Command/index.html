<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Command Design Pattern</title>
        <link rel="stylesheet" href="../styles.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

        <!-- and it's easy to individually load additional languages -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
    </head>
    <body>
        <div class="container">
            <nav class="navbar">
                <div class="navbar-brand">
                    <a href="../">Design Patterns</a>
                </div>
                <ul class="navbar-nav">
                    <li><a href="../">Home</a></li>
                </ul>
            </nav>
            <h1 id="command-design-pattern">Command Design Pattern</h1>
            <p>
                The Command Design Pattern is a behavioral design pattern that
                turns a request into a stand-alone object, allowing
                parameterization of clients with different requests, queuing of
                requests, and support for undoable operations(action or a series
                of actions that can be reversed or undone in a system).
            </p>
            <h2 id="table-of-contents">Table of Contents</h2>
            <ul>
                <li>
                    <a href="#components-of-the-command-design-pattern"
                        >Components of the Command Design Pattern</a
                    >
                </li>
                <li><a href="#implementation">Implementation</a></li>
            </ul>
            <h2 id="components-of-the-command-design-pattern">
                Components of the Command Design Pattern
            </h2>
            <ol>
                <li>
                    <p>
                        <strong>Command Interface</strong> The Command Interface
                        is like a rulebook that all command classes follow. It
                        declares a common method, <code>execute()</code>,
                        ensuring that every concrete command knows how to
                        perform its specific action. It sets the standard for
                        all commands, making it easier for the remote control to
                        manage and execute diverse operations without needing to
                        know the details of each command.
                    </p>
                </li>
                <li>
                    <p>
                        <strong>Concrete Command Classes</strong> Concrete
                        Command Classes are the specific commands, like turning
                        on a TV or adjusting the stereo volume. Each class
                        encapsulates the details of a particular action. These
                        classes act as executable instructions that the remote
                        control can trigger without worrying about the
                        nitty-gritty details of how each command accomplishes
                        its task.
                    </p>
                </li>
                <li>
                    <p>
                        <strong>Invoker (Remote Control)</strong> The Invoker,
                        often a remote control, is the one responsible for
                        initiating command execution. It holds a reference to a
                        command but doesn’t delve into the specifics of how each
                        command works. It’s like a button that, when pressed,
                        makes things happen. The remote control’s role is to
                        coordinate and execute commands without getting involved
                        in the complexities of individual actions.
                    </p>
                </li>
                <li>
                    <p>
                        <strong>Receiver (Devices)</strong> The Receiver is the
                        device that knows how to perform the actual operation
                        associated with a command. It could be a TV, stereo, or
                        any other device. Receivers understand the specific
                        tasks mentioned in commands. If a command says, “turn
                        on,” the Receiver (device) knows precisely how to
                        execute that action. The Receiver-Command relationship
                        separates responsibilities, making it easy to add new
                        devices or commands without messing with existing
                        functionality.
                    </p>
                </li>
            </ol>
            <h2 id="implementation">Implementation</h2>
            <p><img src="uml.png" alt="uml" /></p>
            <ol>
                <li>
                    <p>
                        <strong>Command Interface</strong>: The Command
                        interface declares a method, often named
                        <code>execute()</code>. This method is meant to
                        encapsulate a specific operation. The interface sets a
                        contract for concrete command classes, defining the
                        <code>execute()</code> method that encapsulates the
                        operation to be performed.
                    </p>
                    <pre><code class="lang-java"><span class="hljs-comment">// Command interface</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">Command</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">execute</span>(<span class="hljs-params"></span>)</span>;
}
</code></pre>
                </li>
                <li>
                    <p>
                        <strong>Concrete Command Classes</strong>: Concrete
                        command classes implement the Command interface. Each
                        class encapsulates a specific operation related to
                        devices. Each concrete command class provides a specific
                        implementation of the <code>execute()</code> method,
                        defining how a particular device operation (turning on,
                        turning off, adjusting volume, changing channel) is
                        executed.
                    </p>
                    <pre><code class="lang-java">
<span class="hljs-comment">// Concrete command for turning a device on</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TurnOnCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Command</span> </span>{
<span class="hljs-keyword">private</span> Device device;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TurnOnCommand</span><span class="hljs-params">(Device device)</span> </span>{
        <span class="hljs-keyword">this</span>.device = device;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> </span>{
        device.turnOn();
    }

}

<span class="hljs-comment">// Concrete command for turning a device off</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TurnOffCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Command</span> </span>{
<span class="hljs-keyword">private</span> Device device;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TurnOffCommand</span><span class="hljs-params">(Device device)</span> </span>{
        <span class="hljs-keyword">this</span>.device = device;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> </span>{
        device.turnOff();
    }

}

<span class="hljs-comment">// Concrete command for adjusting the volume of a stereo</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AdjustVolumeCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Command</span> </span>{
<span class="hljs-keyword">private</span> Stereo stereo;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">AdjustVolumeCommand</span><span class="hljs-params">(Stereo stereo)</span> </span>{
        <span class="hljs-keyword">this</span>.stereo = stereo;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> </span>{
        stereo.adjustVolume();
    }

}

<span class="hljs-comment">// Concrete command for changing the channel of a TV</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ChangeChannelCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Command</span> </span>{
<span class="hljs-keyword">private</span> TV tv;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ChangeChannelCommand</span><span class="hljs-params">(TV tv)</span> </span>{
        <span class="hljs-keyword">this</span>.tv = tv;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> </span>{
        tv.changeChannel();
    }

}
</code></pre>
                </li>
                <li>
                    <p>
                        <strong>Receiver Classes (Devices)</strong>: The Device
                        interface declares methods related to device
                        functionality, such as <code>turnOn()</code> and
                        <code>turnOff()</code>. This interface sets a contract
                        for device classes, defining common operations that
                        concrete devices should support.
                    </p>
                    <pre><code class="lang-java"><span class="hljs-comment">// Receiver interface</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Device</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">turnOn</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">turnOff</span><span class="hljs-params">()</span></span>;
}

<span class="hljs-comment">// Concrete receiver for a TV</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TV</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Device</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOn</span><span class="hljs-params">()</span> </span>{
        System.out.println(<span class="hljs-string">"TV is now on"</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOff</span><span class="hljs-params">()</span> </span>{
        System.out.println(<span class="hljs-string">"TV is now off"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">changeChannel</span><span class="hljs-params">()</span> </span>{
        System.out.println(<span class="hljs-string">"Channel changed"</span>);
    }
}

<span class="hljs-comment">// Concrete receiver for a stereo</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stereo</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Device</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOn</span><span class="hljs-params">()</span> </span>{
        System.out.println(<span class="hljs-string">"Stereo is now on"</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOff</span><span class="hljs-params">()</span> </span>{
        System.out.println(<span class="hljs-string">"Stereo is now off"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">adjustVolume</span><span class="hljs-params">()</span> </span>{
        System.out.println(<span class="hljs-string">"Volume adjusted"</span>);
    }
}
</code></pre>
                </li>
                <li>
                    <p>
                        <strong>Invoker Class (Remote Control)</strong>: The
                        invoker class holds a reference to a Command object and
                        triggers its execution through the
                        <code>execute()</code> method. The invoker doesn’t know
                        the specific details of the command or the devices. It
                        simply calls the <code>execute()</code> method on the
                        current command, allowing for flexible and dynamic
                        control over different devices.
                    </p>
                    <pre><code class="lang-java"><span class="hljs-comment">// Invoker</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RemoteControl</span> {
    <span class="hljs-keyword">private</span> Command command;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCommand</span>(<span class="hljs-params">Command command</span>) </span>{
        <span class="hljs-keyword">this</span>.command = command;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">pressButton</span>(<span class="hljs-params"></span>) </span>{
        command.execute();
    }
}
</code></pre>
                </li>
                <li>
                    <p><strong>Client</strong>:</p>
                    <pre><code class="lang-java"><span class="hljs-comment">// Example usage</span>
    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Client</span> </span>{
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> void main(<span class="hljs-keyword">String</span>[] args) {
            <span class="hljs-comment">// Create devices</span>
            TV tv = <span class="hljs-keyword">new</span> <span class="hljs-type">TV</span>();
            Stereo stereo = <span class="hljs-keyword">new</span> <span class="hljs-type">Stereo</span>();

            <span class="hljs-comment">// Create command objects</span>
            Command turnOnTVCommand = <span class="hljs-keyword">new</span> <span class="hljs-type">TurnOnCommand</span>(tv);
            Command turnOffTVCommand = <span class="hljs-keyword">new</span> <span class="hljs-type">TurnOffCommand</span>(tv);
            Command adjustVolumeStereoCommand = <span class="hljs-keyword">new</span> <span class="hljs-type">AdjustVolumeCommand</span>(stereo);
            Command changeChannelTVCommand = <span class="hljs-keyword">new</span> <span class="hljs-type">ChangeChannelCommand</span>(tv);

            <span class="hljs-comment">// Create remote control</span>
            RemoteControl remote = <span class="hljs-keyword">new</span> <span class="hljs-type">RemoteControl</span>();

            <span class="hljs-comment">// Set and execute commands</span>
            remote.setCommand(turnOnTVCommand);
            remote.pressButton(); <span class="hljs-comment">// Outputs: TV is now on</span>

            remote.setCommand(adjustVolumeStereoCommand);
            remote.pressButton(); <span class="hljs-comment">// Outputs: Volume adjusted</span>

            remote.setCommand(changeChannelTVCommand);
            remote.pressButton(); <span class="hljs-comment">// Outputs: Channel changed</span>

            remote.setCommand(turnOffTVCommand);
            remote.pressButton(); <span class="hljs-comment">// Outputs: TV is now off</span>
        }
    }
</code></pre>
                </li>
            </ol>
        </div>
    </body>
</html>
